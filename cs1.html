<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>炉桥驾校——钥匙柜密码查看页</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            max-width: 600px;
            text-align: center;
        }
        .time {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .password {
            font-size: 20px;
            font-weight: bold;
            color: #2980b9;
            margin-bottom: 20px;
        }
        .auth-code-input {
            display: none;
            margin-bottom: 20px;
        }
        .auth-code-input input {
            width: calc(100% - 120px); /* 调整宽度 */
            padding: 10px;
            margin-right: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 16px;
        }
        .auth-code-input button {
            padding: 10px 20px;
            background-color: #2980b9;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .auth-code-input button:hover {
            background-color: #2c3e50;
        }
        .debug-info {
            font-size: 14px;
            color: #bdc3c7;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 第一部分：动态显示当前的年月日和时间 -->
        <div class="time" id="current-time"></div>

        <!-- 第三部分和第四部分 -->
        <div class="password" id="password-display">
            钥匙密码：不在拿钥匙的时间，再等等吧。
        </div>

        <!-- 第五部分：密码框 -->
        <div class="auth-code-input" id="auth-code-input">
            <input type="text" id="auth-code" placeholder="请输入授权码">
            <button onclick="checkAuthCode()">确认</button>
        </div>

        <!-- 调试信息：显示变量a的值 -->
        <div class="debug-info" id="debug-info">
            调试信息：变量a的值将显示在这里
        </div>
    </div>

    <script>
        // 直接嵌入的JSON数据
        const jsonData = [
            ["406", "442", "5985"], ["436", "383", "8795"], ["420", "601", "2963"], ["318", "723", "7803"], ["084", "091", "8487"], ["577", "838", "6636"], ["814", "369", "0237"], ["517", "339", "8797"], ["761", "698", "4807"], ["294", "782", "2318"], ["096", "513", "7647"], ["634", "630", "8525"], ["814", "851", "5174"], ["255", "780", "5709"], ["331", "650", "3053"], ["541", "124", "4149"], ["671", "648", "0832"], ["787", "147", "8777"], ["680", "714", "7417"], ["495", "111", "2333"], ["612", "719", "7693"], ["580", "241", "6942"], ["485", "328", "5270"], ["571", "138", "1343"], ["099", "121", "6707"], ["960", "942", "9214"], ["028", "983", "5266"], ["909", "908", "2641"], ["890", "889", "6749"], ["759", "401", "4328"], ["528", "369", "6904"], ["885", "894", "1778"], ["081", "573", "2501"], ["105", "280", "1598"], ["803", "092", "4418"], ["207", "678", "0397"], ["295", "819", "1536"], ["556", "498", "9380"], ["910", "101", "9524"], ["884", "687", "8313"], ["405", "543", "1346"], ["980", "263", "0879"], ["907", "729", "1887"], ["212", "024", "0732"], ["710", "096", "3674"], ["361", "408", "5670"], ["356", "326", "8956"], ["215", "143", "0712"], ["629", "414", "7290"], ["384", "647", "5544"], ["908", "348", "4386"], ["472", "213", "4825"], ["755", "068", "9511"], ["125", "610", "7009"], ["727", "588", "9321"], ["723", "271", "8064"], ["257", "622", "7929"], ["255", "996", "0819"], ["142", "795", "9278"], ["259", "901", "1385"], ["095", "337", "2046"], ["592", "814", "5219"], ["253", "827", "3186"], ["571", "308", "7578"], ["303", "123", "1029"], ["055", "632", "5797"], ["406", "924", "4045"], ["924", "072", "9453"], ["725", "568", "0365"], ["319", "565", "8993"], ["310", "588", "3028"], ["711", "366", "0859"], ["645", "777", "3695"], ["199", "575", "5632"], ["935", "908", "9444"], ["102", "547", "7427"], ["178", "462", "8751"], ["589", "768", "8602"], ["180", "470", "3045"], ["763", "533", "0904"], ["193", "590", "1585"], ["861", "943", "8353"], ["627", "815", "7178"], ["579", "944", "0591"], ["621", "787", "3593"], ["718", "227", "8819"], ["332", "024", "1803"], ["637", "907", "6969"], ["118", "246", "7829"], ["604", "906", "7908"], ["493", "130", "8313"], ["192", "663", "5444"], ["782", "834", "3038"], ["989", "854", "5702"], ["752", "565", "9183"], ["798", "968", "7946"], ["506", "820", "7661"], ["955", "204", "2784"], ["140", "081", "4056"], ["842", "922", "1205"], ["334", "928", "7386"], ["972", "607", "1347"], ["293", "609", "9933"], ["530", "901", "5337"], ["701", "867", "0066"], ["091", "796", "6815"], ["622", "982", "6588"], ["518", "959", "9380"], ["270", "048", "9618"], ["991", "469", "7669"], ["997", "237", "0398"], ["776", "377", "1338"], ["814", "073", "4505"], ["797", "157", "7217"], ["506", "805", "4523"], ["161", "144", "2971"], ["205", "586", "0821"], ["115", "880", "6802"], ["794", "788", "9676"], ["787", "622", "0075"], ["015", "324", "0001"], ["057", "339", "7259"], ["906", "968", "4050"], ["154", "137", "6352"], ["009", "938", "0670"], ["330", "637", "2167"], ["221", "851", "1536"], ["571", "435", "1622"], ["962", "015", "9681"], ["562", "495", "3762"], ["718", "828", "1473"], ["848", "440", "4045"], ["979", "082", "6721"], ["166", "063", "7334"], ["516", "395", "2333"], ["672", "809", "0054"], ["578", "219", "4661"], ["032", "800", "3084"], ["617", "873", "3176"], ["646", "203", "6715"], ["239", "041", "1855"], ["714", "108", "7864"], ["469", "708", "2086"], ["383", "419", "9889"], ["057", "778", "3298"], ["603", "194", "3600"], ["133", "843", "3345"], ["264", "980", "1789"], ["386", "318", "6800"], ["191", "708", "6604"], ["580", "778", "6575"], ["216", "334", "1109"], ["916", "617", "0572"], ["216", "729", "9747"], ["087", "800", "9075"], ["850", "445", "5674"], ["985", "423", "3672"], ["272", "759", "3002"], ["032", "217", "5694"], ["787", "538", "1523"], ["912", "127", "0244"], ["050", "759", "1437"], ["439", "477", "1463"], ["322", "911", "0231"], ["341", "832", "7793"], ["524", "359", "5829"], ["770", "583", "6752"], ["666", "599", "3364"], ["785", "546", "1298"], ["039", "085", "1391"], ["006", "130", "6321"], ["430", "915", "6552"], ["131", "873", "2955"], ["908", "730", "7274"], ["916", "040", "3026"], ["646", "614", "5318"], ["220", "339", "9350"], ["125", "804", "9950"], ["474", "518", "1642"], ["468", "964", "0633"], ["078", "500", "6477"], ["323", "338", "5634"], ["423", "685", "9708"], ["607", "306", "6866"], ["254", "700", "4439"], ["035", "341", "2366"], ["198", "705", "3633"], ["064", "987", "5182"], ["224", "566", "9119"], ["707", "553", "7831"], ["439", "050", "6894"], ["190", "975", "5048"], ["927", "154", "8920"], ["496", "400", "1300"], ["729", "403", "7765"], ["814", "221", "3797"], ["730", "539", "5226"], ["125", "253", "9800"], ["866", "663", "1314"], ["349", "271", "2782"], ["696", "049", "4595"], ["625", "797", "6174"], ["286", "883", "1035"], ["407", "082", "1821"], ["016", "854", "9896"], ["393", "029", "7825"], ["759", "226", "1295"], ["867", "849", "7632"], ["674", "463", "9051"], ["487", "482", "3994"], ["159", "822", "2025"], ["769", "590", "9180"], ["802", "396", "5697"], ["757", "948", "7775"], ["603", "331", "4547"], ["484", "246", "7080"], ["591", "340", "1227"], ["482", "494", "7723"], ["924", "614", "9231"], ["876", "267", "4484"], ["354", "542", "6272"], ["200", "339", "1341"], ["778", "013", "9689"], ["197", "605", "1008"], ["603", "656", "3462"], ["545", "867", "1793"], ["772", "299", "3589"], ["663", "069", "2868"], ["075", "787", "2427"], ["044", "398", "0344"], ["420", "428", "6001"], ["598", "398", "7919"], ["510", "651", "4885"], ["517", "884", "4695"], ["999", "232", "4014"], ["043", "044", "7688"], ["340", "846", "5568"], ["432", "603", "6559"], ["134", "429", "8577"], ["385", "407", "1962"], ["048", "688", "8271"], ["955", "719", "1664"], ["818", "134", "3399"], ["013", "924", "5555"], ["525", "322", "0026"], ["066", "806", "8659"], ["113", "036", "9886"], ["469", "105", "7881"], ["856", "248", "7206"], ["272", "527", "2721"], ["077", "270", "7344"], ["691", "479", "6423"], ["220", "568", "5893"], ["734", "273", "5544"], ["501", "020", "6078"], ["997", "426", "2569"], ["269", "880", "1309"], ["343", "082", "2856"], ["482", "793", "5884"], ["910", "982", "0545"], ["559", "557", "7566"], ["079", "793", "1714"], ["782", "035", "9445"], ["764", "544", "9853"], ["322", "464", "3278"], ["443", "288", "8410"], ["585", "299", "6294"], ["033", "763", "0193"], ["271", "731", "8594"], ["397", "575", "6041"], ["227", "513", "0667"], ["916", "154", "0074"], ["837", "638", "7888"], ["223", "886", "9259"], ["897", "822", "6927"], ["425", "612", "9614"], ["959", "854", "1228"], ["655", "274", "0699"], ["977", "172", "9805"], ["683", "089", "4987"], ["368", "035", "0821"], ["555", "204", "5792"], ["014", "053", "1460"], ["595", "527", "2234"], ["080", "530", "7299"], ["813", "336", "7025"], ["797", "828", "2225"], ["601", "308", "8448"], ["288", "238", "0755"], ["455", "929", "0918"], ["126", "688", "5201"], ["545", "322", "9036"], ["170", "968", "8616"], ["379", "999", "4556"], ["919", "667", "2797"], ["047", "746", "5035"], ["597", "455", "5019"], ["092", "220", "8901"], ["176", "628", "3475"], ["135", "927", "3670"], ["893", "211", "9498"], ["881", "602", "1978"], ["099", "503", "6624"], ["797", "803", "5289"], ["445", "821", "5114"], ["768", "636", "7392"], ["419", "933", "7432"], ["243", "478", "1581"], ["013", "356", "2680"], ["925", "000", "5537"], ["491", "062", "4518"], ["729", "496", "8754"], ["831", "350", "8673"], ["407", "909", "0787"], ["100", "184", "4142"], ["784", "147", "8917"], ["409", "541", "3655"], ["893", "626", "6223"], ["760", "226", "1930"], ["695", "016", "1394"], ["900", "535", "9843"], ["288", "503", "2331"], ["747", "966", "1738"], ["182", "990", "9827"], ["645", "981", "9798"], ["998", "689", "6789"], ["261", "465", "6371"], ["237", "698", "1967"], ["631", "304", "4117"], ["742", "164", "8008"], ["893", "395", "3555"], ["718", "788", "1179"], ["264", "220", "6836"], ["878", "318", "5545"], ["804", "768", "0268"], ["397", "473", "6581"], ["452", "445", "4279"], ["355", "284", "2237"], ["267", "082", "8055"], ["404", "994", "7267"], ["657", "796", "6457"], ["906", "401", "3176"], ["681", "157", "9294"], ["665", "256", "2332"], ["031", "229", "6049"], ["467", "459", "1598"], ["626", "834", "1400"], ["154", "282", "6435"], ["919", "050", "9420"], ["905", "058", "5298"], ["592", "255", "4696"], ["085", "932", "0718"], ["140", "380", "0526"], ["219", "300", "1036"], ["954", "046", "1321"], ["890", "913", "4587"], ["620", "074", "2908"], ["143", "461", "2917"], ["002", "846", "8790"], ["946", "800", "1506"], ["895", "330", "3143"], ["900", "032", "7168"], ["206", "860", "2035"], ["814", "470", "5232"], ["236", "454", "2022"], ["260", "047", "6350"], ["291", "291", "0291"]
        ];

        let isAuthCodeEntered = false; // 新增标志变量

        // 获取当前日期和时间
        function getCurrentDateTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            return {
                year,
                month,
                day,
                hours,
                minutes,
                seconds,
                dateStr: `${year}-${month}-${day}`,
                timeStr: `${hours}:${minutes}:${seconds}`
            };
        }

        // 计算今天是今年的第几天
        function getDayOfYear(date) {
            const startOfYear = new Date(date.getFullYear(), 0, 0);
            const diff = date - startOfYear;
            const oneDay = 1000 * 60 * 60 * 24;
            return Math.floor(diff / oneDay);
        }

        // 更新时间显示
        function updateTime() {
            const timeDisplay = document.getElementById('current-time');
            const dateTime = getCurrentDateTime();
            timeDisplay.textContent = `${dateTime.dateStr} ${dateTime.timeStr}`;
            updatePasswordDisplay(dateTime);
        }

        // 更新密码显示
        function updatePasswordDisplay(dateTime) {
            const passwordDisplay = document.getElementById('password-display');
            const authCodeInput = document.getElementById('auth-code-input');
            const debugInfo = document.getElementById('debug-info');
            const dayOfYear = getDayOfYear(new Date(dateTime.year, dateTime.month - 1, dateTime.day));
            const a = jsonData[dayOfYear - 1] || [];

            // 显示变量a的值
            debugInfo.textContent = `调试信息：变量a的值为 [${a.join(', ')}]，今天是今年的第${dayOfYear}天`;

            const hours = parseInt(dateTime.hours, 10);
            const minutes = parseInt(dateTime.minutes, 10);

            if ((hours === 7 && minutes >= 25) || (hours > 7 && hours < 11) || (hours === 11 && minutes < 30)) {
                // 上午7:25到中午11:30
                passwordDisplay.textContent = `钥匙密码：${a[0] || '不在拿钥匙的时间，再等等吧。'}`;
                authCodeInput.style.display = 'none';
                isAuthCodeEntered = false; // 重置标志
            } else if ((hours === 13 && minutes >= 25) || (hours > 13 && hours < 17) || (hours === 17 && minutes < 30)) {
                // 下午1:25到下午5:30
                passwordDisplay.textContent = `钥匙密码：${a[1] || '不在拿钥匙的时间，再等等吧。'}`;
                authCodeInput.style.display = 'none';
                isAuthCodeEntered = false; // 重置标志
            } else if ((hours === 11 && minutes >= 55) || (hours === 12) || (hours === 13 && minutes <= 15)) {
                // 中午11:55到中午13:15
                if (!isAuthCodeEntered) {
                    passwordDisplay.textContent = '请输入授权码';
                    authCodeInput.style.display = 'flex'; // 使用flex布局
                    authCodeInput.style.justifyContent = 'space-between'; // 两端对齐
                }
            } else {
                // 其他时间
                if (!isAuthCodeEntered) {
                    passwordDisplay.textContent = '不在拿钥匙的时间，再等等吧。';
                }
                authCodeInput.style.display = 'none';
            }
        }

        // 检查授权码
        function checkAuthCode() {
            const authCode = document.getElementById('auth-code').value;
            const dayOfYear = getDayOfYear(new Date());
            const a = jsonData[dayOfYear - 1] || [];
            if (authCode === a[2]) {
                document.getElementById('password-display').textContent = `钥匙密码：${a[1]}`;
                isAuthCodeEntered = true; // 设置标志为true，表示已经输入授权码
            } else {
                alert('授权码错误，请检查与工作人员提供的授权码是否一致');
            }
        }

        // 在页面加载时弹出提示框
        window.onload = function() {
            alert("炉桥驾校：\n1. 上午7:25和下午13:30后会自动显示钥匙密码。\n2. 中午11:55至13:15间手动输入授权码后显示钥匙密码。");
            // 每秒更新时间
            setInterval(updateTime, 1000);
        };
    </script>
</body>
</html>
